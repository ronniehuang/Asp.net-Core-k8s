podTemplate(containers: [
    containerTemplate(name: 'netcore', image: 'mcr.microsoft.com/dotnet/core/sdk:3.1', ttyEnabled: true, command: 'cat')
  ]) {

    node(POD_LABEL) {
        stage('integreation Test project') {
            container('netcore') {
                stage('checkout  code') {
                    checkout scm
                }
                
                stage('build test') {
                    dir("IntegrationTests"){
                    sh 'dotnet build "IntegrationTests.csproj"'
                    }
                }
                stage('execution test') {
                    dir("IntegrationTests"){
                    sh 'dotnet test "IntegrationTests.csproj" -c Release'
                    }
                }
                
            }
        }
    }
}
